<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<!--[if lt IE 9]>
<script type="text/javascript" src="../../lib/html5.js"></script>
<script type="text/javascript" src="../../lib/respond.min.js"></script>
<script type="text/javascript" src="../../lib/PIE_IE678.js"></script>
<![endif]-->
<link href="../../lib/zTree/v3/css/zTreeStyle/zTreeStyle.css" rel="stylesheet" type="text/css" />
<link href="../../css/H-ui.min.css" rel="stylesheet" type="text/css" />
<link href="../../css/H-ui.admin.css" rel="stylesheet" type="text/css" />
<link href="../../css/style.css" rel="stylesheet" type="text/css" />
<link href="../../lib/Hui-iconfont/1.0.7/iconfont.css" rel="stylesheet" type="text/css" />
<!--[if IE 6]>
<script type="text/javascript" src="http://lib.h-ui.net/DD_belatedPNG_0.0.8a-min.js" ></script>
<script>DD_belatedPNG.fix('*');</script>
<![endif]-->
<title></title>
</head>
<body ng-app="myApp" ng-controller="myCtrl" ng-init="initData()">
<nav class="breadcrumb"><i class="Hui-iconfont">&#xe67f;</i> 首页 <span class="c-gray en">&gt;</span> 基础平台 <span class="c-gray en">&gt;</span> 权限定义 <a class="btn btn-success radius r mr-20" style="line-height:1.6em;margin-top:3px" href="javascript:location.replace(location.href);" title="刷新" ><i class="Hui-iconfont">&#xe68f;</i></a></nav>
<div class="pd-20" style="width:50%;float:left">
	<div class="cl">
		<span class="l">
			选择节点：
			<a class="btn btn-primary radius" href="javascript:;" ng-click="addChildNode()">
				添加子节点
			</a>&nbsp;
			<a class="btn btn-primary radius" href="javascript:;" ng-click="editNode()">
				编辑
			</a>&nbsp;
			<a href="javascript:;" ng-click="deleteNode()" class="btn btn-danger radius">
				<i class="Hui-iconfont">&#xe6e2;</i> 删除
			</a>&nbsp;
			<a class="btn btn-primary radius" href="javascript:;" ng-click="doMove(1)">
				上移
			</a>&nbsp;
			<a class="btn btn-primary radius" href="javascript:;" ng-click="doMove(-1)">
				下移
			</a>&nbsp;
			<!--<a class="btn btn-primary radius" href="javascript:;" ng-click="">-->
				<!--改变父节点-->
			<!--</a>&nbsp;-->
		</span>
		<br><br>
		<div>
			<ul id="moduleTree" class="ztree"></ul>
		</div>
	</div>
</div>
<div id="moduleDetail" class="pd-20" style="width:25%;float:left;margin-top:50px">
</div>

<script type="text/javascript" src="../../lib/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="../../lib/layer/2.1/layer.js"></script>
<script type="text/javascript" src="../../lib/zTree/v3/js/jquery.ztree.all.min.js"></script>
<script type="text/javascript" src="../../lib/angular.min.js"></script>
<script type="text/javascript" src="../../js/H-ui.js"></script>
<script type="text/javascript" src="../../js/H-ui.admin.js"></script>
<script type="text/javascript" src="../../js/app.js"></script>
<script type="text/javascript" src="../../js/angular_base.js"></script>
<script type="text/javascript" src="../../js/perm/module.js"></script>
<script type="text/javascript">
	function onClick(e, treeId, treeNode) {
		refreshDetail(treeNode);
	}

	function refreshDetail(treeNode) {
		if(treeNode.id!="-1") {
			var htmlStr ="";
			if(treeNode.bExt=="分类目录"&&treeNode.moduleUrl.length==0) {
				htmlStr = '<div>名称：' + treeNode.name + '</div><br>' +
						'<div>代码：'+treeNode.moduleCode+'</div><br>' +
						'<div>说明：'+treeNode.remark+'</div><br>' +
						'<div>类别：'+treeNode.bExt+'</div><br>' +
						'<div>状态：'+treeNode.status+'</div><br>';
			}else {
				htmlStr = '<div>名称：' + treeNode.name + '</div><br>' +
						'<div>代码：'+treeNode.moduleCode+'</div><br>' +
						'<div>通用权限：'+treeNode.userType+'</div><br>' +
						'<div>路径：'+treeNode.moduleUrl+'</div><br>' +
						'<div>关联接口：<br>'+treeNode.relationUrl.replace(/\n/g, "<br>")+'</div><br>' +
						'<div>说明：'+treeNode.remark+'</div><br>' +
						'<div>类别：'+treeNode.bExt+'</div><br>' +
						'<div>状态：'+treeNode.status+'</div><br>';
			}

			$("#moduleDetail").html(htmlStr);
		}
	}
</script>
</body>
</html>